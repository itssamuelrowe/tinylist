(this.webpackJsonptinylist=this.webpackJsonptinylist||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),c=n.n(a),o=n(10),s=n.n(o),u=n(162),i=n(163),l=n(164),p=n(165),d=n(85),f=n(166),v=n(81),j=n(74),b=n.n(j),h=Object(v.a)({palette:{primary:{main:b.a[600]}}}),O=n(51),m=n(155),N=n(77),x=(n(105),n(24)),g="FETCH_NOTES_COMPLETE";var y=Object(x.combineReducers)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SHOW_NOTIFICATION"===t.type?{message:t.payload.message,category:t.payload.category}:"CLOSE_NOTIFICATION"===t.type?null:e}}),w=Object(x.createStore)(y,Object(x.compose)(Object(x.applyMiddleware)(N.a))),S=n(172),k=n(160),C=n(161),I=n(169),_=n(9),T=n.n(_),E=n(16),F=n(25),D=n.n(F);function L(e){return console.log(e),e.completed_at=e.completed_at?new Date(e.completed_at):null,e.created_at=new Date(e.created_at),e.updated_at=new Date(e.updated_at),e}function A(e,t){return e.completed_at&&t.completed_at?e.completed_at.getTime()-t.completed_at.getTime():e.completed_at?t.completed_at?-(e.created_at.getTime()-t.created_at.getTime()):1:-1}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"v1";return D.a.defaults.baseURL="".concat("https://tiny-list.herokuapp.com","/api/").concat(e,"/users/").concat("14"),{newNote:function(){var e=Object(E.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post("/tasks",{description:t});case 2:return n=e.sent,e.abrupt("return",L(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveNote:function(){var e=Object(E.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("/tasks/".concat(t),{description:n});case 2:return r=e.sent,e.abrupt("return",L(r.data));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteNote:function(){var e=Object(E.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.delete("/tasks/".concat(t.id));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNote:function(){var e=Object(E.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/tasks/".concat(t));case 2:return n=e.sent,e.abrupt("return",L(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNotes:function(){var e=Object(E.a)(T.a.mark((function e(){var t,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/tasks",{});case 2:for(t=e.sent,n=t.data,r=0;r<n.length;r++)n[r]=L(n[r]);return n.sort((function(e,t){return A(e,t)})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),uncompleteNote:function(){var e=Object(E.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("/tasks/".concat(t.id,"/uncompleted"),{});case 2:return n=e.sent,e.abrupt("return",L(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),completeNote:function(){var e=Object(E.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("/tasks/".concat(t.id,"/completed"),{});case 2:return n=e.sent,e.abrupt("return",L(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}();function U(e,t,n){console.log(t),console.log(JSON.parse(JSON.stringify(t))),e(t.response?G(t.response.data.message||n,"ERROR"):G(n,"ERROR"))}function G(e,t){return{type:"SHOW_NOTIFICATION",payload:{message:e,category:t}}}function H(e){return{type:g,payload:e}}function M(){return function(){var e=Object(E.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getNotes();case 3:n=e.sent,t(H(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U(t,e.t0,"Failed to fetch notes");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var W=n(44),J=n(167),P=n(158),B=n(78),K=n.n(B),q=n(3),z=Object(m.a)((function(e){return{root:{padding:32},adornment:{color:e.palette.primary.light},textField:{width:"100%"},input:{color:e.palette.primary.light,fontWeight:500}}}));var Q=function(e){var t=e.newNote,n=e.old,c=Object(a.useState)(e.content||""),o=Object(W.a)(c,2),s=o[0],u=o[1],i=z();return Object(r.jsx)("div",{className:i.root,children:Object(r.jsx)(J.a,{placeholder:"Add to list...",className:Object(q.a)(i.textField),InputProps:{className:i.input,startAdornment:n?null:Object(r.jsx)(P.a,{position:"start",children:Object(r.jsx)(K.a,{className:i.adornment})})},onKeyDown:function(e){13===e.keyCode&&s.length>0&&(t(s),u(""))},value:s,onChange:function(e){return u(e.target.value)}})})},V=n(79),X=n(159),Y=n(170),Z=n(168),$=n(80),ee=n.n($),te=Object(m.a)((function(e){return{root:{paddingLeft:32,paddingRight:32,width:"100%",display:"flex",justifyContent:"space-between","&:hover":{backgroundColor:"#f0f0f0"}},note:{width:"95%"},invisibleDeleteIcon:Object(V.a)({},e.breakpoints.up("md"),{visibility:"hidden"}),striked:{textDecoration:"line-through",color:"#8A8A8A"}}}));var ne=function(e){var t=e.note,n=e.completeNote,c=e.uncompleteNote,o=e.deleteNote,s=e.saveNote,u=te(),i=Object(a.useState)(!1),l=Object(W.a)(i,2),p=l[0],f=l[1],v=Object(a.useState)(!1),j=Object(W.a)(v,2),b=j[0],h=j[1];return b?Object(r.jsx)(Q,{content:t.description,newNote:function(e){s(t.id,e),h(!1)},old:!0}):Object(r.jsxs)("div",{className:u.root,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[Object(r.jsx)(X.a,{className:u.note,control:Object(r.jsx)(Y.a,{checked:Boolean(t.completed_at),onChange:function(e){return function(e,t){t?n(e):c(e)}(t,e.target.checked)}}),label:Object(r.jsx)(d.a,{variant:"body1",className:t.completed_at?u.striked:"",onClick:function(e){return h(!0)},children:t.description})}),Object(r.jsx)(Z.a,{className:p?"":u.invisibleDeleteIcon,onClick:function(e){return o(t)},children:Object(r.jsx)(ee.a,{})})]},t.id.toString())};var re=function(e){var t=e.notes,n=e.completeNote,a=e.uncompleteNote,c=e.deleteNote,o=e.saveNote;return t.map((function(e,t){return Object(r.jsx)(ne,{note:e,completeNote:n,uncompleteNote:a,deleteNote:c,saveNote:o})}))},ae=Object(m.a)((function(e){return{progress:{maxWidth:24,maxHeight:24,color:"white"}}}));var ce={fetchNotes:M,newNote:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G("Saving note...","LOADING")),t.next=4,R.newNote(e);case 4:n(M()),n(G("Successfully created note","SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),U(n,t.t0,"Failed to create note");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},completeNote:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G("Saving note...","LOADING")),t.next=4,R.completeNote(e);case 4:n(M()),n(G("Successfully saved note","SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),U(n,t.t0,"Failed to save note");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},uncompleteNote:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G("Saving note...","LOADING")),t.next=4,R.uncompleteNote(e);case 4:n(M()),n(G("Successfully saved note","SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),U(n,t.t0,"Failed to save note");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},deleteNote:function(e){return function(){var t=Object(E.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(G("Deleting note...","LOADING")),t.next=4,R.deleteNote(e);case 4:n(M()),n(G("Successfully deleted note","SUCCESS")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),U(n,t.t0,"Failed to delete note");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},closeNotification:function(){return{type:"CLOSE_NOTIFICATION",payload:null}},saveNote:function(e,t){return function(){var n=Object(E.a)(T.a.mark((function n(r){return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(G("Saving note...","LOADING")),n.next=4,R.saveNote(e,t);case 4:r(M()),r(G("Successfully saved note","SUCCESS")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),U(r,n.t0,"Failed to save note");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},oe=Object(O.b)((function(e){return{notes:e.notes,notification:e.notification}}),ce)((function(e){var t=e.closeNotification,n=e.notification,c=e.fetchNotes,o=e.newNote,s=e.completeNote,u=e.uncompleteNote,i=e.deleteNote,l=e.saveNote,p=e.notes,d=ae(),f=function(e,n){"clickaway"!==n&&t()};return Object(a.useEffect)((function(){c()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q,{newNote:o}),Object(r.jsx)(re,{notes:p,completeNote:s,uncompleteNote:u,deleteNote:i,saveNote:l}),function(e){if(e){if("LOADING"===e.category)return Object(r.jsx)(S.a,{open:!0,autoHideDuration:6e3,onClose:f,children:Object(r.jsx)(k.a,{message:e.message,action:Object(r.jsx)(C.a,{className:d.progress})})});var t={SUCCESS:"success",ERROR:"error"},n=t[e.category]?t[e.category]:"SUCCESS";return Object(r.jsx)(S.a,{open:!0,autoHideDuration:1e3,onClose:f,children:Object(r.jsx)(I.a,{severity:n,onClose:f,elevation:6,variant:"filled",children:e.message})})}return null}(n)]})})),se=Object(m.a)((function(e){return{logoText:{fontWeight:600}}}));var ue=function(){var e=se();return Object(a.useEffect)((function(){document.title="TinyList"}),[]),Object(r.jsx)(u.a,{children:Object(r.jsxs)(i.a,{theme:h,children:[Object(r.jsx)(l.a,{position:"static",children:Object(r.jsx)(p.a,{children:Object(r.jsx)(d.a,{variant:"h6",className:e.logoText,children:"TinyList"})})}),Object(r.jsx)(f.a,{children:Object(r.jsx)(O.a,{store:w,children:Object(r.jsx)(oe,{})})})]})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(ue,{})}),document.getElementById("root")),ie()}},[[126,1,2]]]);
//# sourceMappingURL=main.b1608960.chunk.js.map